# -*- coding: utf-8 -*-
# vim:set noet ts=4:
#
# ibus-anthy - The Anthy engine for IBus
#
# Copyright (c) 2007-2008 Peng Huang <shawn.p.huang@gmail.com>
# Copyright (c) 2009 Hideaki ABE <abe.sendai@gmail.com>
# Copyright (c) 2010-2013 Takao Fujiwara <takao.fujiwara1@gmail.com>
# Copyright (c) 2007-2013 Red Hat, Inc.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along
# with this program; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

import sys

from prefs import Prefs

N_ = lambda a : a

__all__ = ['AnthyPrefs']


class AnthyPrefs(Prefs):
    _prefix = 'engine/anthy'
    _char_to_config_key = None

    def __init__(self, bus=None, config=None):
        super(AnthyPrefs, self).__init__(bus, config)
        if _config != None:
            self.default = _config
        self.set_no_key_warning(True)
        self.fetch_all()
        self.set_no_key_warning(False)

    def __update_key (self, section, old_key, new_key):
        file = __file__
        if __file__.find('/') >= 0:
            file = __file__[__file__.rindex('/') + 1:]
        warning_message = \
            '(' + file + ') ibus-anthy-WARNING **: '                        \
            'The key (' + old_key + ') will be removed in the future. '     \
            'Currently the key (' + new_key + ') is used instead. '         \
            'The ibus keys are defined in ' +                               \
            '/'.join(['/desktop/ibus', self._prefix, section]) + ' .'

        if not self.fetch_item(section, old_key, True):
            return
        print >> sys.stderr, warning_message
        if self.fetch_item(section, new_key, True):
            return

        self.fetch_item(section, old_key)
        value = self.get_value(section, old_key)
        self.set_value(section, new_key, value)
        self.commit_item(section, new_key)
        self.undo_item(section, new_key)

    def keys(self, section):
        if section.startswith('shortcut/'):
            return _cmd_keys
        return self.default[section].keys()

    def get_japanese_ordered_list(self):
        return _japanese_ordered_list

    def get_version(self):
        return '@VERSION@'

    # Convert typing sequences to gsettings key.
    # E.g. 'largea-bracketleft' to 'A['
    def typing_from_config_key(self, gkeys):
        retval = ''
        for key in gkeys.split('-'):
            if key in _supported_gsettings_key_chars:
                retval += key
                continue
            try:
                ch = _config_key_to_char[key]
            except KeyError:
                print >> sys.stderr, 'Not supported key in gsettings', gkeys
                retval = ''
                break
            retval += ch
        return retval

    # Convert typing sequences to gsettings key.
    # E.g. 'A[' to 'largea-bracketleft'
    def typing_to_config_key(self, typing):
        retval = ''
        if self._char_to_config_key == None:
            self._char_to_config_key = {}
            for _key, _ch in _config_key_to_char.items():
                self._char_to_config_key[_ch] = _key
        for ch in typing:
            try:
                # U+A5 needs to be UTF-8 since gconf values are
                # disk saved values.
                ch = ch.encode('utf-8')
            except:
                print >> sys.stderr, \
                    'Failed to encode UTF-8:', ch
            if ch in _supported_gsettings_key_chars:
                if retval != '':
                    retval += '-'
                retval += ch
                continue
            try:
                key = self._char_to_config_key[ch]
            except KeyError:
                print >> sys.stderr, 'Not supported key in gsettings', typing
                retval = ''
                break
            if retval != '':
                retval += '-'
            retval += key
        return retval

# Sad! dict.keys() doesn't return the saved order.
# locale.strcoll() also just returns the Unicode code point.
# Unicode order is wrong in Japanese large 'a' and small 'a'.
# The workaround is to save the order here...
_japanese_ordered_list = [
    '„ÅÇ', '„ÅÑ', '„ÅÜ', '„Åà', '„Åä',
    '„ÅÅ', '„ÅÉ', '„ÅÖ', '„Åá', '„Åâ',
    '„ÅÑ„Åá',
    '„ÅÜ„ÅÅ', '„ÅÜ„ÅÉ', '„ÅÜ„ÅÖ', '„ÅÜ„Åá', '„ÅÜ„Åâ',
    '„ÅÜ„ÇÉ', '„ÅÜ„ÇÖ', '„ÅÜ„Çá',
    '„Åã', '„Åç', '„Åè', '„Åë', '„Åì',
    '„Çï', '„Çñ', '„Éµ', '„É∂',
    '„Åå', '„Åé', '„Åê', '„Åí', '„Åî',
    '„Åç„ÇÉ', '„Åç„ÅÉ', '„Åç„ÇÖ', '„Åç„Åá', '„Åç„Çá',
    '„Åè„ÅÅ', '„Åè„ÅÉ', '„Åè„ÅÖ', '„Åè„Åá', '„Åè„Åâ',
    '„Åé„ÇÉ', '„Åé„ÅÉ', '„Åé„ÇÖ', '„Åé„Åá', '„Åé„Çá',
    '„Åê„ÅÅ', '„Åê„ÅÉ', '„Åê„ÅÖ', '„Åê„Åá', '„Åê„Åâ',
    '„Åï', '„Åó', '„Åô', '„Åõ', '„Åù',
    '„Åñ', '„Åò', '„Åö', '„Åú', '„Åû',
    '„Åó„ÇÉ', '„Åó„ÅÉ', '„Åó„ÇÖ', '„Åó„Åá', '„Åó„Çá',
    '„Åò„ÇÉ', '„Åò„ÅÉ', '„Åò„ÇÖ', '„Åò„Åá', '„Åò„Çá',
    '„Åô„ÅÖ„ÅÉ', '„Åô„Åá',
    '„Åö„Åá',
    '„Åü', '„Å°', '„Å§', '„Å¶', '„Å®',
    '„Å†', '„Å¢', '„Å•', '„Åß', '„Å©',
    '„Å£',
    '„Å°„ÇÉ', '„Å°„ÅÉ', '„Å°„ÇÖ', '„Å°„Åá', '„Å°„Çá',
    '„Å¢„ÅÉ', '„Å¢„Åá',
    '„Å¢„ÇÉ', '„Å¢„ÇÖ', '„Å¢„Çá',
    '„Å§„ÅÅ', '„Å§„ÅÉ', '„Å§„Åá', '„Å§„Åâ',
    '„Å§„ÇÉ', '„Å§„ÅÉ„Åá', '„Å§„ÇÖ', '„Å§„Çá',
    '„Å•„ÅÅ', '„Å•„ÅÉ', '„Å•„Åá', '„Å•„Åâ',
    '„Å•„ÇÉ', '„Å•„ÅÉ„Åá', '„Å•„ÇÖ', '„Å•„Çá',
    '„Å¶„ÅÉ', '„Å¶„Åá',
    '„Å¶„ÇÉ', '„Å¶„ÇÖ', '„Å¶„Çá',
    '„Å®„ÅÖ',
    '„Åß„ÅÉ', '„Åß„Åá',
    '„Åß„ÇÉ', '„Åß„ÇÖ', '„Åß„Çá',
    '„Å©„ÅÖ',
    '„Å™', '„Å´', '„Å¨', '„Å≠', '„ÅÆ',
    '„Å´„ÅÉ', '„Å´„Åá',
    '„Å´„ÇÉ', '„Å´„ÇÖ', '„Å´„Çá',
    '„ÅØ', '„Å≤', '„Åµ', '„Å∏', '„Åª',
    '„Å∞', '„Å≥', '„Å∂', '„Åπ', '„Åº',
    '„Å±', '„Å¥', '„Å∑', '„Å∫', '„ÅΩ',
    '„Å≤„ÅÉ', '„Å≤„Åá',
    '„Å≤„ÇÉ', '„Å≤„ÇÖ', '„Å≤„Çá',
    '„Å≥„ÅÉ', '„Å≥„Åá',
    '„Å≥„ÇÉ', '„Å≥„ÇÖ', '„Å≥„Çá',
    '„Å¥„ÅÉ', '„Å¥„Åá',
    '„Å¥„ÇÉ', '„Å¥„ÇÖ', '„Å¥„Çá',
    '„Åµ„ÅÅ', '„Åµ„ÅÉ', '„Åµ„Åá', '„Åµ„Åâ',
    '„Åµ„ÇÉ', '„Åµ„ÇÖ', '„Åµ„Çá',
    '„Å∂„ÅÅ', '„Å∂„Åá', '„Å∂„Åâ',
    '„Å∑„ÅÅ', '„Å∑„Åá', '„Å∑„Åâ',
    '„Åæ', '„Åø', '„ÇÄ', '„ÇÅ', '„ÇÇ',
    '„Åø„ÅÉ', '„Åø„Åá',
    '„Åø„ÇÉ', '„Åø„ÇÖ', '„Åø„Çá',
    '„ÇÑ', '„ÇÜ', '„Çà',
    '„ÇÉ', '„ÇÖ', '„Çá',
    '„Çâ', '„Çä', '„Çã', '„Çå', '„Çç',
    '„Çä„ÅÉ', '„Çä„Åá',
    '„Çä„ÇÉ', '„Çä„ÇÖ', '„Çä„Çá',
    '„Çè', '„Çí', '„Çì',
    '„Çé',
    '„Çê', '„Çë',
    '„Éº',
    '„É¥„ÅÅ', '„É¥„ÅÉ', '„É¥', '„É¥„Åá', '„É¥„Åâ',
    '„É¥„ÇÉ', '„É¥„ÅÉ„Åá', '„É¥„ÇÖ', '„É¥„Çá',
]

# http://git.gnome.org/browse/glib/tree/gio/glib-compile-schemas.c#n765
# gsettings supports keys named by "abcdefghijklmnopqrstuvwxyz0123456789-"
# and ibus-anthy uses '-' as the delimiter.
_supported_gsettings_key_chars = "abcdefghijklmnopqrstuvwxyz0123456789"

_config_key_to_char = {
    # no modifiers keys
    'minus'         : '-',
    'asciicircum'   : '^',
    'at'            : '@',
    'bracketleft'   : '[',
    'semicolon'     : ';',
    'colon'         : ':',
    'bracketright'  : ']',
    'comma'         : ',',
    'period'        : '.',
    'slash'         : '/',
    'backslash'     : '\\',

    # shift modifiered keys
    'exclam'        : '!',
    'quotedbl'      : '"',
    'numbersign'    : '#',
    'dollar'        : '$',
    'percent'       : '%',
    'ampersand'     : '&',
    'apostrophe'    : '\'',
    'parenleft'     : '(',
    'parenright'    : ')',
    'asciitilde'    : '~',
    'equal'         : '=',
    'bar'           : '|',

    'largeq'        : 'Q',
    'largew'        : 'W',
    'largee'        : 'E',
    'larger'        : 'R',
    'larget'        : 'T',
    'largey'        : 'Y',
    'largeu'        : 'U',
    'largei'        : 'I',
    'largeo'        : 'O',
    'largep'        : 'P',
    'grave'         : '`',

    'braceleft'     : '{',

    'largea'        : 'A',
    'larges'        : 'S',
    'larged'        : 'D',
    'largef'        : 'F',
    'largeg'        : 'G',
    'largeh'        : 'H',
    'largej'        : 'J',
    'largek'        : 'K',
    'largel'        : 'L',
    'plus'          : '+',
    'asterisk'      : '*',

    'braceright'    : '}',

    'largez'        : 'Z',
    'largex'        : 'X',
    'largec'        : 'C',
    'largev'        : 'V',
    'largeb'        : 'B',
    'largen'        : 'N',
    'largem'        : 'M',
    'less'          : '<',
    'greater'       : '>',

    'question'      : '?',
    'underscore'    : '_',

    'yen'           : '¬•',
}

_cmd_keys = [
    'on_off',
    'circle_input_mode',
    'circle_kana_mode',
    'circle_typing_method',
    'circle_dict_method',
    'latin_mode',
    'wide_latin_mode',
    'hiragana_mode',
    'katakana_mode',
    'half_katakana_mode',
#    'cancel_pseudo_ascii_mode_key',

    'hiragana_for_latin_with_shift',

    'insert_space',
    'insert_alternate_space',
    'insert_half_space',
    'insert_wide_space',
    'backspace',
    'delete',
    'commit',
    'convert',
    'predict',
    'cancel',
    'cancel_all',
    'reconvert',
#    'do_nothing',

    'select_first_candidate',
    'select_last_candidate',
    'select_next_candidate',
    'select_prev_candidate',
    'candidates_page_up',
    'candidates_page_down',

    'move_caret_first',
    'move_caret_last',
    'move_caret_forward',
    'move_caret_backward',

    'select_first_segment',
    'select_last_segment',
    'select_next_segment',
    'select_prev_segment',
    'shrink_segment',
    'expand_segment',
    'commit_first_segment',
    'commit_selected_segment',

    'select_candidates_1',
    'select_candidates_2',
    'select_candidates_3',
    'select_candidates_4',
    'select_candidates_5',
    'select_candidates_6',
    'select_candidates_7',
    'select_candidates_8',
    'select_candidates_9',
    'select_candidates_0',

    'convert_to_char_type_forward',
    'convert_to_char_type_backward',
    'convert_to_hiragana',
    'convert_to_katakana',
    'convert_to_half',
    'convert_to_half_katakana',
    'convert_to_wide_latin',
    'convert_to_latin',

    'dict_admin',
    'add_word',

    'start_setup',
]

_config = {
    'common': {
        'input_mode': 0,
        'typing_method': 0,
        'conversion_segment_mode': 0,

        'show-input-mode': True,
        'show-typing-method': False,
        'show-segment-mode': False,
        'show-dict-mode': True,
        'show-dict-config': False,
        'show-preferences': True,

        'period_style': 0,
        'symbol_style': 1,
        'ten_key_mode': 1,
        'behavior_on_focus_out': 0,
        'behavior_on_period': 0,

        'page_size': 10,
        'half_width_symbol': False,
        'half_width_number': False,
        'half_width_space': False,
        'latin_with_shift': True,

        'shortcut_type': 'default',

        'dict_admin_command': ['@KASUMI_EXEC_FILE@', 'kasumi'],
        'add_word_command': ['@KASUMI_EXEC_FILE@', 'kasumi', '-a'],
        'dict_config_icon': '@KASUMI_ICON_FILE@',
        'keyboard_layouts': [
            'default', 'jp', 'us',
            # XKB options requires ibus 1.5.
            'jp[ctrl:swapcaps]', 'us[ctrl:swapcaps]',
            'jp[ctrl:swapcaps,compose:rctrl]',
            'us[ctrl:swapcaps,compose:rctrl]',
            'jp[japan:kana_lock]',
            'jp[japan:nicola_f_bs]',
            'jp[japan:nicola_f_bs,ctrl:swapcaps]',
            'jp[japan:hztg_escape]',
            'jp[japan:hztg_escape,ctrl:swapcaps]',
        ],
    },

    'romaji_typing_rule': {
        'method': 'default',
        # The newkeys list is saved for every romaji_typing_rule/$method
        # so that prefs.get_value_direct() is not used.
        # prefs.fetch_section() doesn't get the keys if they exist
        # in gconf only.
        'newkeys': [],
    },

    ##0 MS-IME
    # http://www.filibeto.org/sun/lib/solaris10-docs/E19253-01/819-7844/appe-1-4/index.html
    ##1 ATOK
    # http://www.filibeto.org/sun/lib/solaris10-docs/E19253-01/819-7844/appe-1-3/index.html
    ##2 Gairaigo http://ja.wikipedia.org/wiki/%E5%A4%96%E6%9D%A5%E8%AA%9E
    ##3 ANSI/BSI Suggestions http://en.wikipedia.org/wiki/Katakana
    ##4 Historical kana http://en.wikipedia.org/wiki/Romanization_of_Japanese
    # Maybe we need a compatibility between MS-IME and ibus-anthy.
    'romaji_typing_rule/default': {
        'minus'                 : '„Éº',
        'a'                     : '„ÅÇ',
        'i'                     : '„ÅÑ',
        'u'                     : '„ÅÜ',
        'e'                     : '„Åà',
        'o'                     : '„Åä',
        'x-a'                   : '„ÅÅ',
        'x-i'                   : '„ÅÉ',
        'x-u'                   : '„ÅÖ',
        'x-e'                   : '„Åá',
        'x-o'                   : '„Åâ',
        'l-a'                   : '„ÅÅ',
        'l-i'                   : '„ÅÉ',
        'l-u'                   : '„ÅÖ',
        'l-e'                   : '„Åá',
        'l-o'                   : '„Åâ',
        'w-h-a'                 : '„ÅÜ„ÅÅ',
        'w-h-i'                 : '„ÅÜ„ÅÉ',
        'w-h-e'                 : '„ÅÜ„Åá',
        'w-h-o'                 : '„ÅÜ„Åâ',
        'w-y-a'                 : '„ÅÜ„ÇÉ', ##2
        'w-y-u'                 : '„ÅÜ„ÇÖ', ##2
        'w-y-o'                 : '„ÅÜ„Çá', ##2
        'v-a'                   : '„É¥„ÅÅ',
        'v-i'                   : '„É¥„ÅÉ',
        'v-u'                   : '„É¥',
        'v-e'                   : '„É¥„Åá',
        'v-o'                   : '„É¥„Åâ',
        'v-y-a'                 : '„É¥„ÇÉ',   ##2
        'v-y-u'                 : '„É¥„ÇÖ',   ##2
        'v-y-e'                 : '„É¥„ÅÉ„Åá', ##2
        'v-y-o'                 : '„É¥„Çá',   ##2
        'k-a'                   : '„Åã',
        'k-i'                   : '„Åç',
        'k-u'                   : '„Åè',
        'k-e'                   : '„Åë',
        'k-o'                   : '„Åì',
        'l-k-a'                 : '„Éµ',
        'l-k-e'                 : '„É∂',
#        'x-k-a'                 : '„Çï',
        'x-k-a'                 : '„Éµ',
#        'x-k-e'                 : '„Çñ',
        'x-k-e'                 : '„É∂',
        'g-a'                   : '„Åå',
        'g-i'                   : '„Åé',
        'g-u'                   : '„Åê',
        'g-e'                   : '„Åí',
        'g-o'                   : '„Åî',
        'k-y-a'                 : '„Åç„ÇÉ',
        'k-y-i'                 : '„Åç„ÅÉ',
        'k-y-u'                 : '„Åç„ÇÖ',
        'k-y-e'                 : '„Åç„Åá',
        'k-y-o'                 : '„Åç„Çá',
        'k-w-a'                 : '„Åè„ÅÅ',
        'k-w-i'                 : '„Åè„ÅÉ', ##2
        'k-w-u'                 : '„Åè„ÅÖ', ##2
        'k-w-e'                 : '„Åè„Åá', ##2
        'k-w-o'                 : '„Åè„Åâ', ##2
        'g-y-a'                 : '„Åé„ÇÉ',
        'g-y-i'                 : '„Åé„ÅÉ',
        'g-y-u'                 : '„Åé„ÇÖ',
        'g-y-e'                 : '„Åé„Åá',
        'g-y-o'                 : '„Åé„Çá',
        'g-w-a'                 : '„Åê„ÅÅ',
        'g-w-i'                 : '„Åê„ÅÉ', ##2
        'g-w-u'                 : '„Åê„ÅÖ', ##2
        'g-w-e'                 : '„Åê„Åá', ##2
        'g-w-o'                 : '„Åê„Åâ', ##2
        's-a'                   : '„Åï',
        's-i'                   : '„Åó',
        's-u'                   : '„Åô',
        's-e'                   : '„Åõ',
        's-o'                   : '„Åù',
        'z-a'                   : '„Åñ',
        'z-i'                   : '„Åò',
        'z-u'                   : '„Åö',
        'z-e'                   : '„Åú',
        'z-o'                   : '„Åû',
        's-y-a'                 : '„Åó„ÇÉ',
        's-y-i'                 : '„Åó„ÅÉ',
        's-y-u'                 : '„Åó„ÇÖ',
        's-y-e'                 : '„Åó„Åá',
        's-y-o'                 : '„Åó„Çá',
        's-h-a'                 : '„Åó„ÇÉ',
        's-h-i'                 : '„Åó',
        's-h-u'                 : '„Åó„ÇÖ',
        's-h-e'                 : '„Åó„Åá',
        's-h-o'                 : '„Åó„Çá',
        'z-y-a'                 : '„Åò„ÇÉ',
        'z-y-i'                 : '„Åò„ÅÉ',
        'z-y-u'                 : '„Åò„ÇÖ',
        'z-y-e'                 : '„Åò„Åá',
        'z-y-o'                 : '„Åò„Çá',
        'j-a'                   : '„Åò„ÇÉ',
        'j-y-a'                 : '„Åò„ÇÉ',
        'j-i'                   : '„Åò',
        'j-y-i'                 : '„Åò„ÅÉ',
        'j-u'                   : '„Åò„ÇÖ',
        'j-y-u'                 : '„Åò„ÇÖ',
        'j-e'                   : '„Åò„Åá',
        'j-y-e'                 : '„Åò„Åá',
        'j-o'                   : '„Åò„Çá',
        'j-y-o'                 : '„Åò„Çá',
        's-w-i'                 : '„Åô„ÅÖ„ÅÉ', ##2
        's-w-e'                 : '„Åô„Åá',   ##2
        'z-w-e'                 : '„Åö„Åá',   ##2
        't-a'                   : '„Åü',
        't-i'                   : '„Å°',
        't-u'                   : '„Å§',
        't-s-u'                 : '„Å§',
        't-e'                   : '„Å¶',
        't-o'                   : '„Å®',
        'd-a'                   : '„Å†',
        'd-i'                   : '„Å¢',
        'd-u'                   : '„Å•',
        'd-e'                   : '„Åß',
        'd-o'                   : '„Å©',
        'x-t-u'                 : '„Å£',
        'x-t-s-u'               : '„Å£',
        'l-t-u'                 : '„Å£',
        'l-t-s-u'               : '„Å£',
        't-y-a'                 : '„Å°„ÇÉ',
        't-y-i'                 : '„Å°„ÅÉ',
        't-y-u'                 : '„Å°„ÇÖ',
        't-y-e'                 : '„Å°„Åá',
        't-y-o'                 : '„Å°„Çá',
        'c-y-a'                 : '„Å°„ÇÉ',
        'c-y-i'                 : '„Å°„ÅÉ',
        'c-y-u'                 : '„Å°„ÇÖ',
        'c-y-e'                 : '„Å°„Åá',
        'c-y-o'                 : '„Å°„Çá',
        'c-h-a'                 : '„Å°„ÇÉ',
        'c-h-i'                 : '„Å°',
        'c-h-u'                 : '„Å°„ÇÖ',
        'c-h-e'                 : '„Å°„Åá',
        'c-h-o'                 : '„Å°„Çá',
        'd-y-a'                 : '„Å¢„ÇÉ',
        'd-y-i'                 : '„Å¢„ÅÉ',
        'd-y-u'                 : '„Å¢„ÇÖ',
        'd-y-e'                 : '„Å¢„Åá',
        'd-y-o'                 : '„Å¢„Çá',
        't-s-a'                 : '„Å§„ÅÅ',
        't-s-i'                 : '„Å§„ÅÉ',
        't-s-e'                 : '„Å§„Åá',
        't-s-o'                 : '„Å§„Åâ',
        't-s-y-a'               : '„Å§„ÇÉ',   ##3
        't-s-y-u'               : '„Å§„ÇÖ',   ##3
        't-s-y-e'               : '„Å§„ÅÉ„Åá', ##3
        't-s-y-o'               : '„Å§„Çá',   ##3
        'd-z-a'                 : '„Å•„ÅÅ',    ##3
        'd-z-i'                 : '„Å•„ÅÉ',    ##3
        'd-z-u'                 : '„Å•',      ##4
        'd-z-e'                 : '„Å•„Åá',    ##3
        'd-z-o'                 : '„Å•„Åâ',    ##3
        'd-z-y-a'               : '„Å•„ÇÉ',   ##3
        'd-z-y-u'               : '„Å•„ÇÖ',   ##3
        'd-z-y-e'               : '„Å•„ÅÉ„Åá', ##3
        'd-z-y-o'               : '„Å•„Çá',   ##3
        't-h-a'                 : '„Å¶„ÇÉ',
        't-h-i'                 : '„Å¶„ÅÉ',
        't-h-u'                 : '„Å¶„ÇÖ',
        't-h-e'                 : '„Å¶„Åá',
        't-h-o'                 : '„Å¶„Çá',
        't-w-u'                 : '„Å®„ÅÖ',
        'd-h-a'                 : '„Åß„ÇÉ',
        'd-h-i'                 : '„Åß„ÅÉ',
        'd-h-u'                 : '„Åß„ÇÖ',
        'd-h-e'                 : '„Åß„Åá',
        'd-h-o'                 : '„Åß„Çá',
        'd-w-u'                 : '„Å©„ÅÖ',
        'n-a'                   : '„Å™',
        'n-i'                   : '„Å´',
        'n-u'                   : '„Å¨',
        'n-e'                   : '„Å≠',
        'n-o'                   : '„ÅÆ',
        'n-y-a'                 : '„Å´„ÇÉ',
        'n-y-i'                 : '„Å´„ÅÉ',
        'n-y-u'                 : '„Å´„ÇÖ',
        'n-y-e'                 : '„Å´„Åá',
        'n-y-o'                 : '„Å´„Çá',
        'h-a'                   : '„ÅØ',
        'h-i'                   : '„Å≤',
        'h-u'                   : '„Åµ',
        'h-e'                   : '„Å∏',
        'h-o'                   : '„Åª',
        'b-a'                   : '„Å∞',
        'b-i'                   : '„Å≥',
        'b-u'                   : '„Å∂',
        'b-e'                   : '„Åπ',
        'b-o'                   : '„Åº',
        'p-a'                   : '„Å±',
        'p-i'                   : '„Å¥',
        'p-u'                   : '„Å∑',
        'p-e'                   : '„Å∫',
        'p-o'                   : '„ÅΩ',
        'h-y-a'                 : '„Å≤„ÇÉ',
        'h-y-i'                 : '„Å≤„ÅÉ',
        'h-y-u'                 : '„Å≤„ÇÖ',
        'h-y-e'                 : '„Å≤„Åá',
        'h-y-o'                 : '„Å≤„Çá',
        'b-y-a'                 : '„Å≥„ÇÉ',
        'b-y-i'                 : '„Å≥„ÅÉ',
        'b-y-u'                 : '„Å≥„ÇÖ',
        'b-y-e'                 : '„Å≥„Åá',
        'b-y-o'                 : '„Å≥„Çá',
        'p-y-a'                 : '„Å¥„ÇÉ',
        'p-y-i'                 : '„Å¥„ÅÉ',
        'p-y-u'                 : '„Å¥„ÇÖ',
        'p-y-e'                 : '„Å¥„Åá',
        'p-y-o'                 : '„Å¥„Çá',
        'f-a'                   : '„Åµ„ÅÅ',
        'f-i'                   : '„Åµ„ÅÉ',
        'f-u'                   : '„Åµ',
        'f-e'                   : '„Åµ„Åá',
        'f-o'                   : '„Åµ„Åâ',
        'f-y-a'                 : '„Åµ„ÇÉ',
        'f-y-i'                 : '„Åµ„ÅÉ',
        'f-y-u'                 : '„Åµ„ÇÖ',
        'f-y-e'                 : '„Åµ„Åá',
        'f-y-o'                 : '„Åµ„Çá',
        'b-w-a'                 : '„Å∂„ÅÅ', ##2
        'b-w-e'                 : '„Å∂„Åá', ##2
        'b-w-o'                 : '„Å∂„Åâ', ##2
        'p-w-a'                 : '„Å∑„ÅÅ', ##2
        'p-w-e'                 : '„Å∑„Åá', ##2
        'p-w-o'                 : '„Å∑„Åâ', ##2
        'm-a'                   : '„Åæ',
        'm-i'                   : '„Åø',
        'm-u'                   : '„ÇÄ',
        'm-e'                   : '„ÇÅ',
        'm-o'                   : '„ÇÇ',
        'm-y-a'                 : '„Åø„ÇÉ',
        'm-y-i'                 : '„Åø„ÅÉ',
        'm-y-u'                 : '„Åø„ÇÖ',
        'm-y-e'                 : '„Åø„Åá',
        'm-y-o'                 : '„Åø„Çá',
        'y-a'                   : '„ÇÑ',
        'y-i'                   : '„ÅÑ',
        'y-u'                   : '„ÇÜ',
        'y-e'                   : '„ÅÑ„Åá',
        'y-o'                   : '„Çà',
        'l-y-a'                 : '„ÇÉ',
        'l-y-i'                 : '„ÅÉ',
        'l-y-u'                 : '„ÇÖ',
        'l-y-e'                 : '„Åá',
        'l-y-o'                 : '„Çá',
        'x-y-a'                 : '„ÇÉ',
        'x-y-i'                 : '„ÅÉ',
        'x-y-u'                 : '„ÇÖ',
        'x-y-e'                 : '„Åá',
        'x-y-o'                 : '„Çá',
        'r-a'                   : '„Çâ',
        'r-i'                   : '„Çä',
        'r-u'                   : '„Çã',
        'r-e'                   : '„Çå',
        'r-o'                   : '„Çç',
        'r-y-a'                 : '„Çä„ÇÉ',
        'r-y-i'                 : '„Çä„ÅÉ',
        'r-y-u'                 : '„Çä„ÇÖ',
        'r-y-e'                 : '„Çä„Åá',
        'r-y-o'                 : '„Çä„Çá',
        'w-a'                   : '„Çè',
        'w-i'                   : '„ÅÜ„ÅÉ',
        'w-u'                   : '„ÅÜ',
        'w-e'                   : '„ÅÜ„Åá',
        'w-o'                   : '„Çí',
        'l-w-a'                 : '„Çé',
        'x-w-a'                 : '„Çé',
        'n-apostrophe'          : '„Çì',
        'n-n'                   : '„Çì',
        'w-y-i'                 : '„Çê',
        'w-y-e'                 : '„Çë',
    },

    'kana_typing_rule': {
        'method': 'jp',
        'newkeys': [],
    },

    'kana_typing_rule/jp': {
        # no modifiers keys
        '1'             : '„Å¨',
        '2'             : '„Åµ',
        '3'             : '„ÅÇ',
        '4'             : '„ÅÜ',
        '5'             : '„Åà',
        '6'             : '„Åä',
        '7'             : '„ÇÑ',
        '8'             : '„ÇÜ',
        '9'             : '„Çà',
        '0'             : '„Çè',
        'minus'         : '„Åª',
        'asciicircum'   : '„Å∏',

        'q'             : '„Åü',
        'w'             : '„Å¶',
        'e'             : '„ÅÑ',
        'r'             : '„Åô',
        't'             : '„Åã',
        'y'             : '„Çì',
        'u'             : '„Å™',
        'i'             : '„Å´',
        'o'             : '„Çâ',
        'p'             : '„Åõ',
        'at'            : '„Çõ',
        'bracketleft'   : '„Çú',

        'a'             : '„Å°',
        's'             : '„Å®',
        'd'             : '„Åó',
        'f'             : '„ÅØ',
        'g'             : '„Åç',
        'h'             : '„Åè',
        'j'             : '„Åæ',
        'k'             : '„ÅÆ',
        'l'             : '„Çä',
        'semicolon'     : '„Çå',
        'colon'         : '„Åë',
        'bracketright'  : '„ÇÄ',

        'z'             : '„Å§',
        'x'             : '„Åï',
        'c'             : '„Åù',
        'v'             : '„Å≤',
        'b'             : '„Åì',
        'n'             : '„Åø',
        'm'             : '„ÇÇ',
        'comma'         : '„Å≠',
        'period'        : '„Çã',
        'slash'         : '„ÇÅ',
        # 'backslash'     : '„Éº',
        'backslash'     : '„Çç',

        # shift modifiered keys
        'exclam'        : '„Å¨',
        'quotedbl'      : '„Åµ',
        'numbersign'    : '„ÅÅ',
        'dollar'        : '„ÅÖ',
        'percent'       : '„Åá',
        'ampersand'     : '„Åâ',
        'apostrophe'    : '„ÇÉ',
        'parenleft'     : '„ÇÖ',
        'parenright'    : '„Çá',
        'asciitilde'    : '„Çí',
        'equal'         : '„Çë',
        'bar'           : '„Éº',

        'largeq'        : '„Åü',
        'largew'        : '„Å¶',
        'largee'        : '„ÅÉ',
        'larger'        : '„Åô',
        'larget'        : '„Éµ',
        'largey'        : '„Çì',
        'largeu'        : '„Å™',
        'largei'        : '„Å´',
        'largeo'        : '„Çâ',
        'largep'        : '„Åõ',
        'grave'         : '„Çõ',

        'braceleft'     : '„Äå',

        'largea'        : '„Å°',
        'larges'        : '„Å®',
        'larged'        : '„Åó',
        'largef'        : '„Çé',
        'largeg'        : '„Åç',
        'largeh'        : '„Åè',
        'largej'        : '„Åæ',
        'largek'        : '„ÅÆ',
        'largel'        : '„Çä',
        'plus'          : '„Çå',
        'asterisk'      : '„É∂',

        'braceright'    : '„Äç',

        'largez'        : '„Å£',
        'largex'        : '„Åï',
        'largec'        : '„Åù',
        'largev'        : '„Çê',
        'largeb'        : '„Åì',
        'largen'        : '„Åø',
        'largem'        : '„ÇÇ',
        'less'          : '„ÄÅ',
        'greater'       : '„ÄÇ',

        'question'      : '„Éª',
        'underscore'    : '„Çç',

        'yen'           : '„Éº',
    },

    'kana_typing_rule/us': {
        # no modifiers keys
        'grave'         : '„Çç',
        '1'             : '„Å¨',
        '2'             : '„Åµ',
        '3'             : '„ÅÇ',
        '4'             : '„ÅÜ',
        '5'             : '„Åà',
        '6'             : '„Åä',
        '7'             : '„ÇÑ',
        '8'             : '„ÇÜ',
        '9'             : '„Çà',
        '0'             : '„Çè',
        'minus'         : '„Åª',
        'equal'         : '„Å∏',

        'q'             : '„Åü',
        'w'             : '„Å¶',
        'e'             : '„ÅÑ',
        'r'             : '„Åô',
        't'             : '„Åã',
        'y'             : '„Çì',
        'u'             : '„Å™',
        'i'             : '„Å´',
        'o'             : '„Çâ',
        'p'             : '„Åõ',
        'bracketleft'   : '„Çõ',
        'bracketright'  : '„Çú',
        # 'backslash'     : '„Éº',
        'backslash'     : '„ÇÄ',

        'a'             : '„Å°',
        's'             : '„Å®',
        'd'             : '„Åó',
        'f'             : '„ÅØ',
        'g'             : '„Åç',
        'h'             : '„Åè',
        'j'             : '„Åæ',
        'k'             : '„ÅÆ',
        'l'             : '„Çä',
        'semicolon'     : '„Çå',
        'apostrophe'    : '„Åë',

        'z'             : '„Å§',
        'x'             : '„Åï',
        'c'             : '„Åù',
        'v'             : '„Å≤',
        'b'             : '„Åì',
        'n'             : '„Åø',
        'm'             : '„ÇÇ',
        'comma'         : '„Å≠',
        'period'        : '„Çã',
        'slash'         : '„ÇÅ',

        # shift modifiered keys
        'asciitilde'    : '„Çç',
        'exclam'        : '„Å¨',
        'at'            : '„Åµ',
        'numbersign'    : '„ÅÅ',
        'dollar'        : '„ÅÖ',
        'percent'       : '„Åá',
        'asciicircum'   : '„Åâ',
        'ampersand'     : '„ÇÉ',
        'asterisk'      : '„ÇÖ',
        'parenleft'     : '„Çá',
        'parenright'    : '„Çí',
        'underscore'    : '„Éº',
        'plus'          : '„Çë',

        'largeq'        : '„Åü',
        'largew'        : '„Å¶',
        'largee'        : '„ÅÉ',
        'larger'        : '„Åô',
        'larget'        : '„Éµ',
        'largey'        : '„Çì',
        'largeu'        : '„Å™',
        'largei'        : '„Å´',
        'largeo'        : '„Çâ',
        'largep'        : '„Åõ',
        'braceleft'     : '„Äå',

        'braceright'    : '„Äç',

        'bar'           : '„ÇÄ',

        'largea'        : '„Å°',
        'larges'        : '„Å®',
        'larged'        : '„Åó',
        'largef'        : '„Çé',
        'largeg'        : '„Åç',
        'largeh'        : '„Åè',
        'largej'        : '„Åæ',
        'largek'        : '„ÅÆ',
        'largel'        : '„Çä',
        'colon'         : '„Çå',
        'quotedbl'      : '„É∂',

        'largez'        : '„Å£',
        'largex'        : '„Åï',
        'largec'        : '„Åù',
        'largev'        : '„Çê',
        'largeb'        : '„Åì',
        'largen'        : '„Åø',
        'largem'        : '„ÇÇ',
        'less'          : '„ÄÅ',
        'greater'       : '„ÄÇ',

        'question'      : '„Éª',
    },
    'thumb': {
        'keyboard_layout_mode': True,
        'keyboard_layout': 0,
        'fmv_extension': 2,
        'handakuten': False,
        'rs': 'Henkan',
        'ls': 'Muhenkan',
        't1': 100,
        't2': 75,
    },

    'thumb_typing_rule': {
        'method': 'base',
        'newkeys': [],
        'nicola_j_table_newkeys': [],
        'nicola_a_table_newkeys': [],
        'nicola_f_table_newkeys': [],
        'kb231_j_fmv_table_newkeys': [],
        'kb231_a_fmv_table_newkeys': [],
        'kb231_f_fmv_table_newkeys': [],
        'kb611_j_fmv_table_newkeys': [],
        'kb611_a_fmv_table_newkeys': [],
        'kb611_f_fmv_table_newkeys': [],
    },

    'thumb_typing_rule/base': {
        'q'             : [u'„ÄÇ', u'',   u'„ÅÅ'],
        'w'             : [u'„Åã', u'„Åå', u'„Åà'],
        'e'             : [u'„Åü', u'„Å†', u'„Çä'],
        'r'             : [u'„Åì', u'„Åî', u'„ÇÉ'],
        't'             : [u'„Åï', u'„Åñ', u'„Çå'],

        'y'             : [u'„Çâ', u'„Çà', u'„Å±'],
        'u'             : [u'„Å°', u'„Å´', u'„Å¢'],
        'i'             : [u'„Åè', u'„Çã', u'„Åê'],
        'o'             : [u'„Å§', u'„Åæ', u'„Å•'],
        'p'             : [u'Ôºå',  u'„Åá', u'„Å¥'],
        'at'            : [u'„ÄÅ', u'',   u''],
        'bracketleft'   : [u'„Çõ', u'„Çú', u''],

        'a'             : [u'„ÅÜ', u'',   u'„Çí'],
        's'             : [u'„Åó', u'„Åò', u'„ÅÇ'],
        'd'             : [u'„Å¶', u'„Åß', u'„Å™'],
        'f'             : [u'„Åë', u'„Åí', u'„ÇÖ'],
        'g'             : [u'„Åõ', u'„Åú', u'„ÇÇ'],

        'h'             : [u'„ÅØ', u'„Åø', u'„Å∞'],
        'j'             : [u'„Å®', u'„Åä', u'„Å©'],
        'k'             : [u'„Åç', u'„ÅÆ', u'„Åé'],
        'l'             : [u'„ÅÑ', u'„Çá', u'„ÅΩ'],
        'semicolon'     : [u'„Çì', u'„Å£', u''],

        'z'             : [u'Ôºé',  u'',   u'„ÅÖ'],
        'x'             : [u'„Å≤', u'„Å≥', u'„Éº'],
        'c'             : [u'„Åô', u'„Åö', u'„Çç'],
        'v'             : [u'„Åµ', u'„Å∂', u'„ÇÑ'],
        'b'             : [u'„Å∏', u'„Åπ', u'„ÅÉ'],

        'n'             : [u'„ÇÅ', u'„Å¨', u'„Å∑'],
        'm'             : [u'„Åù', u'„ÇÜ', u'„Åû'],
        'comma'         : [u'„Å≠', u'„ÇÄ', u'„Å∫'],
        'period'        : [u'„Åª', u'„Çè', u'„Åº'],
        'slash'         : [u'„Éª', u'„Åâ', u''],

        '1'             : [u'1',  u'',   u'Ôºü'],
        '2'             : [u'2',  u'',   u'Ôºè'],
        '4'             : [u'4',  u'',   u'„Äå'],
        '5'             : [u'5',  u'',   u'„Äç'],

        '6'             : [u'6',  u'Ôºª',  u''],
        '7'             : [u'7',  u'ÔºΩ',  u''],
        '8'             : [u'8',  u'Ôºà',  u''],
        '9'             : [u'9',  u'Ôºâ',  u''],
        'backslash'     : [u'Ôø•', u'',  u''],
    },

    'thumb_typing_rule/nicola_j_table': {
        'colon'         : [u'Ôºö', u'',   u''],
        'at'            : [u'„ÄÅ', u'',   u''],
        'bracketleft'   : [u'„Çõ', u'„Çú', u''],
        'bracketright'  : [u'„Äç', u'',   u''],
        '8'             : [u'8',  u'Ôºà', u''],
        '9'             : [u'9',  u'Ôºâ', u''],
        '0'             : [u'0',  u'',   u''],
    },

    'thumb_typing_rule/nicola_a_table': {
        'colon'         : [u'Ôºö', u'',   u''],
        'at'            : [u'Ôº†', u'',   u''],
        'bracketleft'   : [u'„ÄÅ', u'',   u''],
        'bracketright'  : [u'„Çõ', u'„Çú', u''],
        '8'             : [u'8',  u'',   u''],
        '9'             : [u'9',  u'Ôºà', u''],
        '0'             : [u'0',  u'Ôºâ', u''],
    },

    'thumb_typing_rule/nicola_f_table': {
        'colon'         : [u'„ÄÅ', u'',   u''],
        'at'            : [u'Ôº†', u'',   u''],
        'bracketleft'   : [u'„Çõ', u'„Çú', u''],
        'bracketright'  : [u'„Äç', u'',   u''],
        '8'             : [u'8',  u'Ôºà', u''],
        '9'             : [u'9',  u'Ôºâ', u''],
        '0'             : [u'0',  u'',   u''],
    },

    'thumb_typing_rule/kb231_j_fmv_table': {
        '3'             : [u'3',  u'',   u'ÔΩû'],
        '0'             : [u'0',  u'„Äé', u''],
        'minus'         : [u'-',  u'„Äè', u''],
        'equal'         : [u'=',  u'',   u''],
    },

    'thumb_typing_rule/kb231_a_fmv_table': {
        '3'             : [u'3',  u'',   u'ÔΩû'],
        '0'             : [u'0',  u'Ôºâ', u''],
        'minus'         : [u'-',  u'„Äé', u''],
        'equal'         : [u'=',  u'„Äè', u''],
    },

    'thumb_typing_rule/kb231_f_fmv_table': {
        '3'             : [u'3',  u'',   u'ÔΩû'],
        '0'             : [u'0',  u'„Äé', u''],
        'minus'         : [u'-',  u'„Äè', u''],
        'equal'         : [u'=',  u'',   u''],
    },

    'thumb_typing_rule/kb611_j_fmv_table': {
        'grave'         :  [u'‚Äò', u'',   u''],
        'asciicircum'   :  [u'„ÄÖ', u'¬£',  u''],
        'colon'         :  [u'Ôºö', u'',   u''],
        'at'            :  [u'„ÄÅ', u'¬¢',  u''],
        'bracketleft'   :  [u'„Çõ', u'„Çú', u''],
        # keysyms are same and keycodes depend on the platforms.
        #'Ôø•'            : [u'Ôø•', u'¬¨',  u''],
        'backslash'     : [u'Ôø•', u'¬¶',  u''],
    },

    'thumb_typing_rule/kb611_a_fmv_table': {
        'grave'         :  [u'„ÄÖ', u'',   u'¬£'],
        'colon'         :  [u'Ôºö', u'',   u''],
        'at'            :  [u'Ôº†', u'',   u''],
        'bracketleft'   :  [u'„ÄÅ', u'¬¢',  u''],
        #'Ôø•'            : [u'Ôø•', u'¬¨',  u''],
        'backslash'     : [u'Ôø•', u'¬¶',  u''],
    },

    'thumb_typing_rule/kb611_f_fmv_table': {
        'grave'         :  [u'‚Äò', u'',   u''],
        'asciicircum'   :  [u'„ÄÖ', u'¬£',  u''],
        'colon'         :  [u'„ÄÅ', u'¬¢',  u''],
        'at'            :  [u'Ôº†', u'',   u''],
        'bracketleft'   :  [u'„Çõ', u'„Çú', u''],
        #'Ôø•'            : [u'Ôø•', u'¬¨',  u''],
        'backslash'     : [u'Ôø•', u'¬¶',  u''],
    },

    'dict': {
        'zipcode': ['@pkgdatadir@/dicts/zipcode.t'],
        'symbol': ['@pkgdatadir@/dicts/symbol.t'],
        'oldchar': ['@pkgdatadir@/dicts/oldchar.t'],
        'era': ['@pkgdatadir@/dicts/era.t'],
        'emoji': ['@pkgdatadir@/dicts/emoji.t'],
        'files': [
            '@pkgdatadir@/dicts/zipcode.t',
            '@pkgdatadir@/dicts/symbol.t',
            '@pkgdatadir@/dicts/oldchar.t',
            '@pkgdatadir@/dicts/era.t',
            '@pkgdatadir@/dicts/emoji.t',
        ],
    },

    'dict/file/default': {
        'embed': False,
        'single': True,
        'icon': None,
        'short_label': None,
        'long_label': None,
        'preview_lines': 30,
        'reverse': False,
        'is_system': False,
        'encoding': 'utf-8',
    },

    'dict/file/embedded': {
        'embed': True,
        'single': True,
        'icon': None,
        'short_label': 'Ëà¨',
        'long_label': N_("General"),
        'preview_lines': 0,
        'reverse': False,
        'is_system': True,
    },

    'dict/file/zipcode': {
        'embed': False,
        'single': True,
        'icon': None,
        'short_label': '„Äí',
        'long_label': N_("Zip Code Conversion"),
        'preview_lines': 30,
        'reverse': False,
        'is_system': True,
    },

    'dict/file/symbol': {
        'embed': True,
        'single': False,
        'icon': None,
        'short_label': 'Ë®ò',
        'long_label': N_("Symbol"),
        'preview_lines': -1,
        'reverse': False,
        'is_system': True,
    },

    'dict/file/oldchar': {
        'embed': False,
        'single': True,
        'icon': None,
        'short_label': 'Êóß',
        'long_label': N_("Old Character Style"),
        'preview_lines': -1,
        'reverse': False,
        'is_system': True,
    },
    'dict/file/era': {
        'embed': False,
        'single': True,
        'icon': None,
        'short_label': 'Âπ¥',
        'long_label': N_("Era"),
        'preview_lines': -1,
        'reverse': False,
        'is_system': True,
    },
    'dict/file/emoji': {
        'embed': False,
        'single': True,
        'icon': None,
        'short_label': 'üòä',
        'long_label': N_("Emoji"),
        'preview_lines': -1,
        'reverse': False,
        'is_system': True,
    },
}

_shortcut_default = {
    'on_off': [@ON_OFF_KEYS@],
    'circle_input_mode': ['Ctrl+comma', 'Ctrl+less'],
    # Removed Hiragana_Katakana key in circle_kana_mode for latin_with_shift.
    'circle_kana_mode': ['Ctrl+period', 'Ctrl+greater'],
#    'cancel_pseudo_ascii_mode_key': ['Escape'],
    'circle_typing_method': ['Alt+Romaji', 'Ctrl+slash'],
    'circle_dict_method': ['Alt+Henkan'],

    'insert_space': ['space'],
    'insert_alternate_space': ['Shift+space'],
    'backspace': ['BackSpace', 'Ctrl+H'],
    'delete': ['Delete', 'Ctrl+D'],
    'commit': ['Return', 'KP_Enter', 'Ctrl+J', 'Ctrl+M'],
    'convert': ['space', 'KP_Space', 'Henkan'],
    'predict': ['Tab', 'ISO_Left_Tab'],
    'cancel': ['Escape', 'Ctrl+G'],
    'reconvert': ['Shift+Henkan'],

    'move_caret_first': ['Ctrl+A', 'Home'],
    'move_caret_last': ['Ctrl+E', 'End'],
    'move_caret_forward': ['Right', 'Ctrl+F'],
    'move_caret_backward': ['Left', 'Ctrl+B'],

    'select_first_segment': ['Ctrl+A', 'Home'],
    'select_last_segment': ['Ctrl+E', 'End'],
    'select_next_segment': ['Right', 'Ctrl+F'],
    'select_prev_segment': ['Left', 'Ctrl+B'],
    'shrink_segment': ['Shift+Left', 'Ctrl+I'],
    'expand_segment': ['Shift+Right', 'Ctrl+O'],
    'commit_first_segment': ['Shift+Down'],
    'commit_selected_segment': ['Ctrl+Down'],

    'select_first_candidate': ['Home'],
    'select_last_candidate': ['End'],
    'select_next_candidate': ['space', 'KP_Space', 'Tab', 'ISO_Left_Tab', 'Henkan', 'Down', 'KP_Add', 'Ctrl+N'],
    'select_prev_candidate': ['Shift+Tab', 'Shift+ISO_Left_Tab', 'Up', 'KP_Subtract', 'Ctrl+P'],
    'candidates_page_up': ['Page_Up'],
    'candidates_page_down': ['Page_Down', 'KP_Tab'],

    'select_candidates_1': ['1'],
    'select_candidates_2': ['2'],
    'select_candidates_3': ['3'],
    'select_candidates_4': ['4'],
    'select_candidates_5': ['5'],
    'select_candidates_6': ['6'],
    'select_candidates_7': ['7'],
    'select_candidates_8': ['8'],
    'select_candidates_9': ['9'],
    'select_candidates_0': ['0'],

    'convert_to_char_type_forward': ['Muhenkan'],
    'convert_to_hiragana': ['F6'],
    'convert_to_katakana': ['F7'],
    'convert_to_half': ['F8'],
    'convert_to_half_katakana': ['Shift+F8'],
    'convert_to_wide_latin': ['F9'],
    'convert_to_latin': ['F10'],

    'dict_admin': ['F11'],
    'add_word': ['F12'],

    'hiragana_for_latin_with_shift': ['Hiragana_Katakana'],
}

_config['shortcut/default'] = dict.fromkeys(_cmd_keys, [])
_config['shortcut/default'].update(_shortcut_default)

_shortcut_atok = {
    'on_off': ['Henkan', 'Eisu_toggle', 'Zenkaku_Hankaku'],
    'circle_input_mode': ['F10'],
    'hiragana_mode': ['Hiragana_Katakana'],
    'katakana_mode': ['Shift+Hiragana_Katakana'],
    'circle_typing_method': ['Romaji', 'Alt+Romaji'],
    'circle_dict_method': ['Alt+Henkan'],
    'convert': ['space', 'Henkan', 'Shift+space', 'Shift+Henkan'],
    'predict': ['Tab'],
    'cancel': ['Escape', 'BackSpace', 'Ctrl+H', 'Ctrl+bracketleft'],
    'commit': ['Return', 'Ctrl+M'],
    'reconvert': ['Shift+Henkan'],

    'insert_space': ['space'],
    'insert_alternate_space': ['Shift+space'],
    'backspace': ['BackSpace', 'Ctrl+H'],
    'delete': ['Delete', 'Ctrl+G'],

    'move_caret_backward': ['Left', 'Ctrl+K'],
    'move_caret_forward': ['Right', 'Ctrl+L'],
    'move_caret_first': ['Ctrl+Left'],
    'move_caret_last': ['Ctrl+Right'],

    'select_prev_segment': ['Shift+Left'],
    'select_next_segment': ['Shift+Right'],
    'select_first_segment': ['Ctrl+Left'],
    'select_last_segment': ['Ctrl+Right'],
    'expand_segment': ['Right', 'Ctrl+L'],
    'shrink_segment': ['Left', 'Ctrl+K'],
    'commit_selected_segment': ['Down', 'Ctrl+N'],

    'candidates_page_up': ['Shift+Henkan', 'Page_Up'],
    'candidates_page_down': ['Henkan', 'Page_Down'],
    'select_next_candidate': ['space', 'Tab', 'Henkan', 'Shift+space', 'Shift+Henkan'],
    'select_prev_candidate': ['Up'],

    'select_candidates_1': ['1'],
    'select_candidates_2': ['2'],
    'select_candidates_3': ['3'],
    'select_candidates_4': ['4'],
    'select_candidates_5': ['5'],
    'select_candidates_6': ['6'],
    'select_candidates_7': ['7'],
    'select_candidates_8': ['8'],
    'select_candidates_9': ['9'],
    'select_candidates_0': ['0'],

    'convert_to_hiragana': ['F6', 'Ctrl+U'],
    'convert_to_katakana': ['F7', 'Ctrl+I'],
    'convert_to_half': ['F8', 'Ctrl+O'],
    'convert_to_half_katakana': ['Shift+F8'],
    'convert_to_wide_latin': ['F9', 'Ctrl+P'],
    'convert_to_latin': ['F10', 'Ctrl+at'],

    'dict_admin': ['F11'],
    'add_word': ['Ctrl+F7'],

    'hiragana_for_latin_with_shift': ['Ctrl+J'],
}

_config['shortcut/atok'] = dict.fromkeys(_cmd_keys, [])
_config['shortcut/atok'].update(_shortcut_atok)

_shortcut_wnn = {
    'on_off': ['Shift+space'],
    'convert': ['space'],
    'predict': ['Ctrl+Q'],
    'cancel': ['Escape', 'Ctrl+G', 'Alt+Down', 'Muhenkan'],
    'commit': ['Ctrl+L', 'Ctrl+M', 'Ctrl+J', 'Return'],
    'insert_space': ['space'],
    'backspace': ['Ctrl+H', 'BackSpace'],
    'delete': ['Ctrl+D', 'Delete'],
    'circle_dict_method': ['Alt+Henkan'],

    'move_caret_backward': ['Ctrl+B', 'Left'],
    'move_caret_forward': ['Ctrl+F', 'Right'],
    'move_caret_first': ['Ctrl+A', 'Alt+Left'],
    'move_caret_last': ['Ctrl+E', 'Alt+Right'],

    'select_prev_segment': ['Ctrl+B', 'Left'],
    'select_next_segment': ['Ctrl+F', 'Right'],
    'select_first_segment': ['Ctrl+A', 'Alt+Left'],
    'select_last_segment': ['Ctrl+E', 'Alt+Right'],
    'expand_segment': ['Ctrl+O', 'F14'],
    'shrink_segment': ['Ctrl+I', 'F13'],

    'candidates_page_up': ['Tab'],
    'candidates_page_down': ['Shift+Tab'],
    'select_next_candidate': ['space', 'Ctrl+Q', 'Ctrl+P', 'Down'],
    'select_prev_candidate': ['Ctrl+N', 'Up'],

    'select_candidates_1': ['1'],
    'select_candidates_2': ['2'],
    'select_candidates_3': ['3'],
    'select_candidates_4': ['4'],
    'select_candidates_5': ['5'],
    'select_candidates_6': ['6'],
    'select_candidates_7': ['7'],
    'select_candidates_8': ['8'],
    'select_candidates_9': ['9'],
    'select_candidates_0': ['0'],

    'convert_to_hiragana': ['F6'],
    'convert_to_katakana': ['F7'],
    'convert_to_half': ['F8'],
    'convert_to_wide_latin': ['F9'],
    'convert_to_latin': ['F10'],

    'dict_admin': ['F11'],
    'add_word': ['F12'],

    'hiragana_for_latin_with_shift': ['Hiragana_Katakana'],
}

_config['shortcut/wnn'] = dict.fromkeys(_cmd_keys, [])
_config['shortcut/wnn'].update(_shortcut_wnn)

